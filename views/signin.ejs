<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>สมัครสมาชิก</title>

    <!-- add icon link -->
    <link rel="icon" href="images/LogoMakr-18GTI0.png" type="image/x-icon">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
</head>

<body>

    <div class="container bg-light">
        <div>
            <h1 style="background-color: rgb(83, 142, 219);">สมัครสมาชิกใหม่</h1>
        </div>
        <br>
        <br>
        <form class="row g-3" method="post" action="/signin">
            <div class="col-md-6">
                <label for="inputFirstName" class="form-label">ชื่อ</label>
                <input type="text" class="form-control" name="firstname" id="inputFirstName" placeholder="First name"
                    required aria-label="First name">
            </div>

            <div class="col-md-6">
                <label for="inputLastName" class="form-label">นามสกุล</label>
                <input type="text" class="form-control" name="lastname" id="inputLastName" placeholder="Last name"
                    required aria-label="Last name">
            </div>

            <div class="col-md-4">
                <label for="inputEmail4" class="form-label">อีเมล์</label>
                <input type="email" class="form-control" name="email" id="inputEmail4" placeholder="aaa@gmail.com"
                    required>
            </div>

            <div class="col-md-3">
                <label for="inputPassword4" class="form-label">รหัสผ่าน</label>
                <input type="password" class="form-control" name="password" id="inputPassword4"
                    placeholder="12345678(6-8 ตัวอักษร)" required>
                <input type="checkbox" onclick="myFunction1()" class="mt-3">แสดงรหัสผ่าน
            </div>
            <div class="col-md-5">
                <label for="inputPassword5" class="form-label">ยืนยันรหัสผ่าน</label>
                <input type="password" class="form-control" name="password2" id="inputPassword5"
                    placeholder="12345678(6-8 ตัวอักษร)" required>
                <input type="checkbox" onclick="myFunction2()" class="mt-3">แสดงรหัสผ่าน
            </div>
            <div class="col-md-4">
                <label for="inputPhoneNumber" class="form-label">เบอร์โทรศัพท์</label>
                <input type="tel" class="form-control" name="phoneNumber" id="phoneNumber" placeholder="0xx-xxxxxxxx"
                    required>
            </div>
            <div class="col-md-8">
                <label for="inputAddress" class="form-label">ที่อยู่</label>
                <input type="text" class="form-control" name="address" id="inputAddress"
                    placeholder="บ้านเลขที่ 123 หมู่ 12 ตำบล XXX " required>
            </div>
            <div class="col-md-4">
                <label for="inputCity" class="form-label">อำเภอ</label>
                <input type="text" class="form-control" name="city" id="inputCity" placeholder="" required>
            </div>
            <div class="col-md-4">
                <label for="inputProvince" class="form-label">จังหวัด</label>
                <input type="text" class="form-control" name="province" id="inputProvince" placeholder="" required>
            </div>
            <div class="col-md-4">
                <label for="inputZip" class="form-label">รหัสไปรษณีย์</label>
                <input type="text" class="form-control" name="zipcode" id="inputZip" placeholder="" required>
            </div>
            <div class="col-12">
                <button type="submit" onclick="checkInputFunction()" id="btSignIn" class="btn btn-primary">
                สมัครสมาชิก</button>
            </div>

        </form>
        <br>
        <div id="result">
            <% if (locals.result && result==true) { %>
                ข้อมูลถูกบันทึกแล้ว กด "กลับหน้าหน้าหลักและทำการ Log-in"
                <% } else if (locals.result && result==false) { %>
                    <span style="color:red">เกิดข้อผิดพลาด ข้อมูลไม่ถูกบันทึก</span>
                    <% }  else if (locals.result && result=='A') {%>
                        <span style="color:red">เกิดข้อผิดพลาด อีเมล์นี้ถูกใช้งานแล้ว ข้อมูลไม่ถูกบันทึก</span>
                   <% } %> 
        </div>
        <br>
        <br>
        <a href="/">หน้าหลัก</a>
        <br>
        <br>
    </div>
    <script>
        
        function checkInputFunction() {
            let password = document.getElementById("inputPassword4")
            let password2 = document.getElementById("inputPassword5")
            let btType = document.getElementById("btSignIn")


            if (password.value === password2.value) {
                btType.type = "submit"
            } else {
                alert('รหัสไม่ตรงกัน กรุณากรอกรหัสใหม่')
                password.value = ''
                password2.value = ''
            }

        }

        function myFunction1() {
            let x = document.getElementById("inputPassword4");
            if (x.type === "password") {
                x.type = "text";
            } else {
                x.type = "password";
            }

        }
        function myFunction2() {
            let x = document.getElementById("inputPassword5");
            if (x.type === "password") {
                x.type = "text";
            } else {
                x.type = "password";
            }

        }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
        crossorigin="anonymous"></script>
</body>

</html>